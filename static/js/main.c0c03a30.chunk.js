(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],{74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),r=a(36),s=a.n(r),i=a(13),o=a(6),u=a(19),l=a(10),d=a(21),j=a(5),b=a.n(j),p=a(9),h=a(22),m=a.n(h),f=a(32),O=a(28),x=a(24);a(68),a(76),a(77);x.a.initializeApp({apiKey:"AIzaSyBtRqEvNMnB5xIUikS1qpjlVqpU_XCDSJA",authDomain:"twitter-clone-c7b8e.firebaseapp.com",projectId:"twitter-clone-c7b8e",storageBucket:"twitter-clone-c7b8e.appspot.com",messagingSenderId:"132482723440",appId:"1:132482723440:web:0ac4656fca06a1e6be8eb5"});var v=x.a,g=x.a.auth(),w=x.a.firestore(),N=x.a.storage(),y=a(37),_=a(2),k=function(){var e=function(){var e=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(a=t.currentTarget.name)?n=new v.auth.GoogleAuthProvider:"github"===a&&(n=new v.auth.GithubAuthProvider),e.next=4,g.signInWithPopup(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"auth__social-container",children:[Object(_.jsx)("button",{className:"social-button google",name:"google",onClick:e,children:Object(_.jsx)(y.a,{})}),Object(_.jsx)("button",{className:"social-button github",name:"github",onClick:e,children:Object(_.jsx)(d.a,{})})]})},S=function(e){var t=e.refreshUser,a=Object(n.useState)(""),c=Object(o.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),l=u[0],d=u[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),x=h[0],v=h[1],w=Object(n.useState)(!1),N=Object(o.a)(w,2),y=N[0],S=N[1],L=Object(n.useState)(!1),U=Object(o.a)(L,2),R=U[0],C=U[1],F=Object(n.useState)(""),A=Object(o.a)(F,2),q=A[0],D=A[1],E=Object(n.useState)(!1),I=Object(o.a)(E,2),P=I[0],B=I[1],M=function(e){var t=e.target,a=t.name,n=t.value;n.length>0?e.target.classList.add("active"):e.target.classList.remove("active"),"email"===a&&s(n),"password"===a&&d(n),"displayName"===a&&v(n);var c=document.querySelector(".email-input"),r=document.querySelector(".password-input"),i=document.querySelector(".display-name-input"),o=document.querySelector(".submit");R?c.value.length>0&&r.value.length>0&&i.value.length>0?o.classList.add("active"):o.classList.remove("active"):c.value.length>0&&r.value.length>0?o.classList.add("active"):o.classList.remove("active")},T=function(){var e=Object(p.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=document.querySelector(".submit"),0!==r.length&&0!==l.length&&!n.matches(".loading")){e.next=4;break}return e.abrupt("return");case 4:if(n.classList.add("loading"),B(!0),D(""),e.prev=7,!R){e.next=13;break}return e.next=11,g.createUserWithEmailAndPassword(r,l).then(function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,e.next=3,a.updateProfile({displayName:x});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return t()}));case 11:e.next=15;break;case 13:return e.next=15,g.signInWithEmailAndPassword(r,l);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),D("Please check your email or password."),console.error(e.t0.message);case 21:return e.prev=21,n.classList.remove("loading"),B(!1),e.finish(21);case 25:case"end":return e.stop()}}),e,null,[[7,17,21,25]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=document.querySelector(".password-input");e.type=y?"password":"text",S((function(e){return!e}))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"title",children:R?"Create Account":"Sign In"}),Object(_.jsx)("span",{className:"auth__error",children:q}),Object(_.jsxs)("form",{className:"auth__form",onSubmit:T,children:[Object(_.jsx)("div",{className:"email-container",children:Object(_.jsx)("input",{className:"email-input",name:"email",type:"text",placeholder:"Email",value:r,onChange:M,autoFocus:!0})}),Object(_.jsxs)("div",{className:"password-container",children:[Object(_.jsx)("input",{className:"password-input",name:"password",type:"password",placeholder:"Password",value:l,onChange:M}),y?Object(_.jsx)(f.a,{className:"toggle-visible",onClick:J}):Object(_.jsx)(f.b,{className:"toggle-visible",onClick:J})]}),R&&Object(_.jsx)("div",{className:"display-name-container",children:Object(_.jsx)("input",{className:"display-name-input",name:"displayName",type:"text",placeholder:"Display Name",value:x,onChange:M,autoFocus:!0})}),Object(_.jsx)("button",{className:"submit",type:"submit",children:P?Object(_.jsx)(m.a,{className:"auth-submit__loader",type:"Oval",color:"#00BFFF",height:25,width:25}):Object(_.jsx)(O.a,{})})]}),Object(_.jsx)(k,{}),Object(_.jsx)("span",{className:"auth__toggle-section",onClick:function(){C((function(e){return!e})),document.querySelector(".email-input").classList.remove("active"),document.querySelector(".password-input").classList.remove("active"),document.querySelector(".submit").classList.remove("active"),D(""),s(""),d(""),v("")},children:R?"Sign In":"Create Account"})]})},L=function(e){var t=e.refreshUser;return Object(_.jsxs)("div",{className:"auth-container",children:[Object(_.jsx)(d.b,{className:"auth__logo"}),Object(_.jsx)(S,{refreshUser:t})]})},U=a(42),R=a(29),C=a(39),F=function(e){var t=e.attachmentURL,a=e.attachmentHeight;return Object(_.jsxs)("div",{className:"skeleton__tweet-container",children:[Object(_.jsxs)("div",{className:"skeleton__tweet-header",children:[Object(_.jsx)("div",{className:"skeleton__user-img"}),Object(_.jsxs)("div",{className:"skeleton__tweet-info",children:[Object(_.jsx)("div",{className:"skeleton__info-display-name"}),Object(_.jsx)("div",{className:"skeleton__info-time"})]})]}),Object(_.jsx)("div",{className:"skeleton__tweet-text"}),t&&Object(_.jsx)("div",{className:"skeleton__tweet-img",style:{height:a}}),Object(_.jsx)("div",{className:"skeleton__tweet-like-container",children:Object(_.jsx)("div",{className:"skeleton__tweet-like"})})]})},A=function(e){var t=e.tweetObj,a=e.isOwner,c=e.userObj,r=Object(n.useState)(!1),s=Object(o.a)(r,2),l=s[0],d=s[1],j=Object(n.useState)(t.text),h=Object(o.a)(j,2),m=h[0],f=h[1],O=Object(n.useState)(!1),x=Object(o.a)(O,2),v=x[0],g=x[1],y=Object(n.useState)(t.likes.includes(c.uid)),k=Object(o.a)(y,2),S=k[0],L=k[1],A=Object(n.useState)(t.likes),q=Object(o.a)(A,2),D=q[0],E=q[1],I=Object(n.useState)(0),P=Object(o.a)(I,2),B=P[0],M=P[1],T=Object(n.useState)(null),J=Object(o.a)(T,2),H=J[0],Y=J[1],W=Object(n.useState)(null),z=Object(o.a)(W,2),G=z[0],K=z[1],V=Object(n.useRef)(),X=t.attachmentURL?2:1;Object(n.useEffect)((function(){if(0===B){var e=new Image;if(e.onload=function(){Y(e),M((function(e){return e+1}))},e.src=t.user.photoURL?t.user.photoURL:"https://www.flaticon.com/svg/static/icons/svg/3064/3064559.svg",t.attachmentURL){var a=new Image;a.onload=function(){K(a),M((function(e){return e+1}))},a.src=t.attachmentURL}}else{if(B>=X)if(V.current.querySelector(".tweet__user-img").src=H.src,t.attachmentURL)V.current.querySelector(".tweet__img").src=G.src}}),[B]);var Q=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this tweet?")){e.next=7;break}return e.next=4,w.doc("tweets/".concat(t.id)).delete();case 4:if(""===t.attachmentURL){e.next=7;break}return e.next=7,N.refFromURL(t.attachmentURL).delete();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){f(t.text),d((function(e){return!e}))},$=function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,w.doc("tweets/".concat(t.id)).update({text:m,updatedAt:Date.now()});case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S?D.filter((function(e){return e!==c.uid})):[].concat(Object(U.a)(D),[c.uid]),e.next=3,w.doc("tweets/".concat(t.id)).update({likes:a});case 3:E(a),L((function(e){return!e}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"tweet-container",ref:V,children:B<X?Object(_.jsx)(F,{attachmentURL:t.attachmentURL,attachmentHeight:t.attachmentHeight}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"tweet__header",children:[Object(_.jsxs)("div",{className:"user-container",children:[Object(_.jsx)(u.b,{to:"/profile/".concat(t.user.uid),className:"tweet__user-link",children:Object(_.jsx)("img",{alt:"",className:"tweet__user-img"})}),Object(_.jsxs)("div",{className:"tweet-info",children:[Object(_.jsx)(u.b,{to:"/profile/".concat(t.user.uid),className:"info__display-name-link",children:Object(_.jsx)("span",{className:"info__display-name",children:t.user.displayName})}),Object(_.jsx)("span",{className:"info__time",children:function(e,t){var a,n=["January","February","March","April","May","June","July","August","September","October","November","December"],c=new Date,r=new Date(t),s=Math.floor((c-r)/1e3);return a=s<60?"Just Now":s<120?"1 minute ago":s<3600?"".concat(Math.floor(s/60)," minutes ago"):s<7200?"1 hour ago":s<86400?"".concat(Math.floor(s/3600)," hours ago"):s<172800?"1 day ago":s<604800?"".concat(Math.floor(s/86400)," days ago"):c.getFullYear()===r.getFullYear()?"".concat(n[r.getMonth()]," ").concat(r.getDate()):"".concat(n[r.getMonth()]," ").concat(r.getDate()," ").concat(r.getFullYear()),e!==t&&(a+="(modified)"),a}(t.updatedAt,t.createdAt)})]})]}),a&&Object(_.jsxs)("div",{className:"tweet-modify",children:[Object(_.jsx)("button",Object(i.a)(Object(i.a)({onClick:Z,title:"Edit"},l&&{style:{color:"white"}}),{},{children:Object(_.jsx)(R.c,{})})),Object(_.jsx)("button",{onClick:Q,title:"Delete",children:Object(_.jsx)(C.a,{})})]})]}),l?Object(_.jsx)(_.Fragment,{children:a&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("form",{onSubmit:$,className:"tweet-edit-container",children:[Object(_.jsx)("textarea",{type:"text",placeholder:"Edit your tweet",value:m,required:!0,onChange:function(e){var t=e.target.value;f(t)},spellCheck:!1,maxLength:1e3}),Object(_.jsxs)("div",{className:"tweet-edit__button-container",children:[Object(_.jsx)("button",{onClick:Z,children:"Cancel"}),Object(_.jsx)("input",{type:"submit",value:"Update Tweet"})]})]})})}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{className:"tweet__text",children:v?Object(_.jsx)(_.Fragment,{children:t.text}):Object(_.jsxs)(_.Fragment,{children:[t.text.slice(0,100),t.text.length>100&&Object(_.jsxs)(_.Fragment,{children:["...",Object(_.jsx)("span",{className:"see-more",onClick:function(){g((function(e){return!e}))},children:"See More"})]})]})}),t.attachmentURL&&Object(_.jsx)("div",{className:"tweet__img-container",children:Object(_.jsx)("img",Object(i.a)({className:"tweet__img",alt:""},G&&{src:G.src}))}),Object(_.jsx)("div",{className:"tweet__like-container",children:Object(_.jsxs)("div",{className:"like-inner-container",onClick:ee,children:[S?Object(_.jsx)(R.a,{className:"liked"}):Object(_.jsx)(R.b,{}),Object(_.jsx)("span",{className:S?"like-count active":"like-count",children:D.length})]})})]})]})})},q=function(e){var t=e.userObj,a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){w.collection("tweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(i.a)({id:e.id},e.data())}));s(t)}))}),[]),Object(_.jsx)("div",{className:"home",children:Object(_.jsx)("div",{className:"tweets",children:r.map((function(e){return Object(_.jsx)(A,{tweetObj:e,isOwner:e.creatorId===t.uid,userObj:t},e.id)}))})})},D=a(40),E=a(41),I=a(79),P=function(){var e=Object(p.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.doc("tweets/".concat(t)).update(a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=9;break}return e.prev=1,e.next=4,N.refFromURL(t).delete();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",""===a){e.next=9;break}return c=N.ref().child("".concat(t,"/").concat(Object(I.a)())),e.next=5,c.putString(a,"data_url");case 5:return r=e.sent,e.next=8,r.ref.getDownloadURL();case 8:n=e.sent;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(e,t){var a=e.target.files[0],n=new FileReader;n.onloadend=t,n.readAsDataURL(a)},J=function(e){var t=e.userObj,a=e.toggleAddTweet,c=Object(n.useState)(""),r=Object(o.a)(c,2),s=r[0],i=r[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),j=d[0],h=d[1],f=Object(n.useState)(""),O=Object(o.a)(f,2),x=O[0],v=O[1],g=Object(n.useState)(!1),N=Object(o.a)(g,2),y=N[0],k=N[1],S=Object(l.f)(),L=function(){var e=Object(p.a)(b.a.mark((function e(n){var c,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(s.length<1)){e.next=3;break}return e.abrupt("return");case 3:return k(!0),e.next=6,M(t.uid,x);case 6:return c=e.sent,r=Date.now(),o={text:s,createdAt:r,updatedAt:r,creatorId:t.uid,attachmentURL:c,attachmentHeight:j||0,user:{displayName:t.displayName,uid:t.uid,photoURL:t.photoURL},likes:[]},e.next=11,w.collection("tweets").add(o);case 11:i(""),v(""),a(),k(!1),S.push("/");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("form",{className:"add-tweet-form",action:"",onSubmit:L,children:[Object(_.jsx)("input",{className:"file-upload",type:"file",accept:"image/*",onChange:function(e){var t=document.querySelector(".add-tweet__submit");t.classList.remove("active");T(e,(function(e){var a=e.currentTarget.result,n=new Image;n.onload=function(){var e=(document.getElementById("root").getBoundingClientRect().width-30)/n.width;e*n.height>=600?h(600):h(Math.floor(e*n.height)),document.querySelector(".add-tweet__input").value.length>0&&t.classList.add("active")},n.src=a,v(a)}))},id:"file-upload"}),Object(_.jsxs)("label",{htmlFor:"file-upload",children:[Object(_.jsx)(D.a,{}),"Add a photo..."]}),x&&Object(_.jsxs)("div",{className:"file-preview",children:[Object(_.jsx)("img",{src:x,alt:"preview"}),Object(_.jsx)("button",{onClick:function(){document.querySelector(".file-upload").value="",v("")},children:Object(_.jsx)(E.a,{})})]}),Object(_.jsx)("textarea",{className:"add-tweet__input",value:s,onChange:function(e){var t=e.target.value,a=document.querySelector(".add-tweet__submit");t.length>0?a.classList.add("active"):a.classList.remove("active"),i(t)},placeholder:"What's on your mind?",maxLength:1e3,spellCheck:"false"}),y?Object(_.jsx)(m.a,{className:"auth-submit__loader",type:"Oval",color:"#00BFFF",height:25,width:25}):Object(_.jsx)("input",{className:"add-tweet__submit",type:"submit",value:"Tweet"})]})},H=function(e,t){var a=Object(n.useRef)();return Object(n.useEffect)((function(){var n=function(n){a.current&&!a.current.contains(n.target)&&(document.querySelector(e).contains(n.target)||t())};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[a]),a},Y=function(e){var t=e.userObj,a=Object(n.useState)(!1),c=Object(o.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),j=Object(o.a)(i,2),b=j[0],p=j[1],h=Object(l.f)(),m=function(){s(!1)},f=function(){document.querySelector(".nav-item.profile").classList.toggle("active"),s((function(e){return!e}))},x=function(){document.querySelector(".add-tweet").classList.toggle("active"),p((function(e){return!e}))},v=H(".nav-item.profile",f),w=H(".add-tweet",x);return Object(_.jsxs)("nav",{className:"navigation",children:[Object(_.jsx)(u.b,{to:"/",className:"nav-item home",onClick:m,children:Object(_.jsx)(d.b,{})}),Object(_.jsx)("div",{className:"add-tweet",onClick:x,children:Object(_.jsx)(O.b,{})}),Object(_.jsx)("div",{className:"nav-item profile",onClick:f,children:Object(_.jsx)("img",{src:t.photoURL?t.photoURL:"https://www.flaticon.com/svg/static/icons/svg/3064/3064559.svg",alt:""})}),r&&Object(_.jsxs)("div",{className:"profile-menu",ref:v,children:[Object(_.jsxs)("span",{className:"profile-menu__name",children:["Hello, ",Object(_.jsx)("strong",{children:t.displayName})]}),Object(_.jsx)(u.b,{to:"/profile/".concat(t.uid),className:"menu-item profile",onClick:m,children:"Your Profile"}),Object(_.jsx)("div",{className:"menu-item logout",onClick:function(){g.signOut(),h.push("/")},children:"Sign out"})]}),b&&Object(_.jsx)("div",{className:"add-tweet-container",ref:w,children:Object(_.jsx)(J,{userObj:t,toggleAddTweet:x})})]})},W=function(e){var t=e.userObj,a=e.refreshUser,c=Object(n.useState)(t.displayName),r=Object(o.a)(c,2),s=r[0],u=r[1],d=Object(n.useState)(null),j=Object(o.a)(d,2),h=j[0],f=j[1],O=Object(n.useState)(!1),x=Object(o.a)(O,2),v=x[0],g=x[1],N=Object(n.useState)(!1),y=Object(o.a)(N,2),k=y[0],S=y[1],L=Object(l.g)().id,U=Object(l.f)(),R=function(){var e=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("tweets").where("creatorId","==",L).orderBy("createdAt","desc").get();case 2:t=e.sent,a=t.docs.map((function(e){return Object(i.a)({id:e.id},e.data())})),f(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){R()}),[]);var C=function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.displayName===s){e.next=9;break}return S(!0),f((function(e){return e.map((function(e){return e.user.displayName=s,e}))})),h.forEach(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.id,{user:Object(i.a)(Object(i.a)({},t.user),{},{displayName:s})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,t.updateProfile({displayName:s});case 7:S(!1),a();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,B(t.photoURL);case 3:return h.forEach(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.id,{user:Object(i.a)(Object(i.a)({},t.user),{},{photoURL:""})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,t.updateProfile({photoURL:""});case 6:U.go(0),g(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"home",children:[t.uid===L&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h3",{children:"Edit Profile"}),Object(_.jsxs)("form",{onSubmit:C,className:"profile-edit-container",children:[Object(_.jsx)("span",{children:"Display name"}),Object(_.jsx)("input",{onChange:function(e){var a=e.target.value,n=document.querySelector(".profile-edit__submit");t.displayName===a?n.classList.add("un-active"):n.classList.remove("un-active"),u(a)},type:"text",placeholder:"Display name",value:s,className:"profile-edit__name",spellCheck:!1}),Object(_.jsx)("span",{children:"Profile photo"}),Object(_.jsxs)("div",{className:"profile-edit__photo",children:[Object(_.jsx)("img",{src:t.photoURL?t.photoURL:"https://www.flaticon.com/svg/static/icons/svg/3064/3064559.svg",alt:""}),v?Object(_.jsx)(m.a,{className:"profile-edit-photo__loader",type:"Oval",color:"#00BFFF",height:25,width:25}):Object(_.jsxs)("div",{className:"edit-photo__button-container",children:[Object(_.jsx)("input",{className:"edit-photo__file-upload",type:"file",accept:"image/*",onChange:function(e){var a=function(){var e=Object(p.a)(b.a.mark((function e(a){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.currentTarget.result,e.next=3,B(t.photoURL);case 3:return e.next=5,M(t.uid,n);case 5:return c=e.sent,h.forEach(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.id,{user:Object(i.a)(Object(i.a)({},t.user),{},{photoURL:c})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,t.updateProfile({photoURL:c});case 9:U.go(0),g(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();g(!0),T(e,a)},id:"edit-photo__file-upload"}),Object(_.jsx)("label",{htmlFor:"edit-photo__file-upload",children:"Upload photo"}),Object(_.jsx)("div",{className:"edit-photo__button-remove",onClick:F,children:"Remove photo"})]})]}),k?Object(_.jsx)("div",{className:"profile-edit__submit updating",children:Object(_.jsx)(m.a,{className:"profile-edit-photo__loader",type:"Oval",color:"#00BFFF",height:20,width:20})}):Object(_.jsx)("input",{type:"submit",value:"Update Profile",className:"profile-edit__submit un-active"})]})]}),Object(_.jsxs)("h3",{children:[t.uid===L?"Your":"All"," Tweets"]}),Object(_.jsx)("div",{className:"tweets",children:h&&h.map((function(e){return Object(_.jsx)(A,{tweetObj:e,isOwner:t.uid===L,userObj:t},e.id)}))})]})},z=function(e){var t=e.isLoggedIn,a=e.userObj,n=e.refreshUser;return Object(_.jsxs)(u.a,{children:[t&&Object(_.jsx)(Y,{userObj:a}),Object(_.jsx)(l.c,{children:t?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.a,{exact:!0,path:"/",children:Object(_.jsx)(q,{userObj:a})}),Object(_.jsx)(l.a,{exact:!0,path:"/profile/:id",children:Object(_.jsx)(W,{userObj:a,refreshUser:n})})]}):Object(_.jsx)(l.a,{exact:!0,path:"/",children:Object(_.jsx)(L,{refreshUser:n})})})]})},G=function(){return Object(_.jsxs)("div",{className:"app-init-loader",children:[Object(_.jsx)(d.b,{className:"loading-logo"}),Object(_.jsx)("footer",{children:"\xa9 2021 Twitter Clone"})]})};var K=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(o.a)(r,2),u=s[0],l=s[1];return Object(n.useEffect)((function(){g.onAuthStateChanged((function(e){l(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)},photoURL:e.photoURL}:null),c(!0)}))}),[]),Object(_.jsx)(_.Fragment,{children:a?Object(_.jsx)(z,{isLoggedIn:Boolean(u),userObj:u,refreshUser:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;e=t||g.currentUser,l(a?function(e){return Object(i.a)(Object(i.a)({},e),a)}:{displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)},photoURL:e.photoURL})}}):Object(_.jsx)(G,{})})};a(74);s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(K,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.c0c03a30.chunk.js.map